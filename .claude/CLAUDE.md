# Общие правила

1. Изменение главной страницы HOME должно соответствовать спецификацию в файле: .claude/HOME.md
   Для отдельных элементов созданы тесты в каталоге: spec/features

2. Не нужно делать компоненты React громоздкими. Код компонента должно быть легко прочитать с первого раза.
   Желательно переиспользовать код компонентов, если это возможно по дизайну этого компонента.

3. Структура файлов и каталогов стилей и структура файлов и каталогов компонентов должна совпадать.
   Должно быть легко и понятно, как перейти от компонента к его стилю, и обратно.

4. Используй Puppeteer что бы сделать скриншот и проверить результат при изменении frontend.
   Результат нужно сверить с: .claude/home.png

## Команда для создания скриншота

Можно использовать напрямую:

```bash
node .claude/commands/screenshot.js
```

Эта команда:

- Запускает браузер Puppeteer
- Переходит на http://localhost:3001 (Rails сервер должен быть запущен)
- Делает fullPage скриншот
- Сохраняет результат в `./tmp/homepage-{timestamp}.png` с уникальным именем
- Автоматически создает каталог `tmp` если его нет

**Важно:** Перед созданием скриншота убедись, что запущены серверы:

- Rails: `bundle exec rails server -p 3001`
- Webpack: `npm start`
- Нужно дождаться, что сборка webpack завершилась
- Для подготовки данный для тестирования используй FactoryBot
- Используй линтер для проверки кода ruby
  bundle exec rubocop -A
- Используй линтер для проверки кода javascript
  npm run lint:fix
- Пользовательские истории должны быть покрыты feture тестами
- Последний раз команда `npm test -- --watchAll=false --verbose` привела к переполнению контекста - слишком большая выдача. Не используй пока --verbose для этой команды.