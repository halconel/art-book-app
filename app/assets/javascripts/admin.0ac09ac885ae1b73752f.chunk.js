/*! For license information please see admin.0ac09ac885ae1b73752f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkart_book_app=self.webpackChunkart_book_app||[]).push([[884],{1051:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(6540),a=n(6905),o=n(2940),l=n(6504);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return f(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(f(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,f(d,"constructor",u),f(u,"constructor",i),i.displayName="GeneratorFunction",f(u,a,"GeneratorFunction"),f(d),f(d,a,"Generator"),f(d,r,function(){return this}),f(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:p}})()}function f(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,n,r){function o(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},f(e,t,n,r)}function d(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,c,"next",e)}function c(e){d(o,r,a,l,c,"throw",e)}l(void 0)})}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const E=function(){var e=y((0,r.useState)([]),2),t=e[0],n=e[1],c=y((0,r.useState)(!0),2),i=c[0],s=c[1],f=y((0,r.useState)(""),2),d=f[0],v=f[1],E=y((0,r.useState)(0),2),g=E[0],b=E[1],h=y((0,r.useState)(10),2),x=h[0],w=h[1],_=y((0,r.useState)(0),2),S=_[0],j=_[1],A=y((0,r.useState)(""),2),O=A[0],C=A[1],P=y((0,r.useState)(!1),2),k=P[0],z=P[1],D=y((0,r.useState)(null),2),I=D[0],F=D[1],M=y((0,r.useState)({email:"",contact_info:""}),2),T=M[0],J=M[1];(0,r.useEffect)(function(){L()},[g,x,O]);var L=function(){var e=p(m().m(function e(){var t,r,a;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,s(!0),t={role:"client",page:g+1,per_page:x,search:O||void 0},e.n=1,l.A.get("/admin/users",{params:t});case 1:r=e.v,n(r.data.users||[]),j(r.data.total_count||0),v(""),e.n=3;break;case 2:e.p=2,a=e.v,v("Failed to fetch clients"),console.error("Failed to fetch clients:",a);case 3:return e.p=3,s(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;F(e),J(e?{email:e.email,contact_info:e.contact_info||""}:{email:"",contact_info:""}),z(!0)},G=function(){z(!1),F(null),J({email:"",contact_info:""})},B=function(){var e=p(m().m(function e(){var t;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!I){e.n=2;break}return e.n=1,l.A.put("/admin/users/".concat(I.id),{user:T});case 1:e.n=3;break;case 2:return e.n=3,l.A.post("/admin/users",{user:u(u({},T),{},{role:"client"})});case 3:G(),L(),e.n=5;break;case 4:e.p=4,t=e.v,v("Failed to save client"),console.error("Failed to save client:",t);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=p(m().m(function e(t){var n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!window.confirm("Are you sure you want to delete this client?")){e.n=4;break}return e.p=1,e.n=2,l.A.delete("/admin/users/".concat(t));case 2:L(),e.n=4;break;case 3:e.p=3,n=e.v,v("Failed to delete client"),console.error("Failed to delete client:",n);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return i&&0===t.length?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null)):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4",gutterBottom:!0},"Client Management"),r.createElement(a.$nd,{variant:"contained",startIcon:r.createElement(o.OMN,null),onClick:function(){return W()}},"Invite Client")),d&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},d),r.createElement(a.tu9,{sx:{width:"100%",mb:2}},r.createElement(a.azJ,{p:2},r.createElement(a.A_L,{fullWidth:!0,variant:"outlined",placeholder:"Search clients by email...",value:O,onChange:function(e){C(e.target.value),b(0)},InputProps:{startAdornment:r.createElement(a.jC1,{position:"start"},r.createElement(o.vji,null))}})),r.createElement(a.K3K,null,r.createElement(a.XIK,null,r.createElement(a.ndF,null,r.createElement(a.Hjg,null,r.createElement(a.nA6,null,"Email"),r.createElement(a.nA6,null,"Status"),r.createElement(a.nA6,null,"Registered"),r.createElement(a.nA6,null,"Orders"),r.createElement(a.nA6,{align:"center"},"Actions"))),r.createElement(a.BFY,null,i&&r.createElement(a.Hjg,null,r.createElement(a.nA6,{colSpan:5,align:"center"},r.createElement(a.PaH,{size:24}))),!i&&0===t.length&&r.createElement(a.Hjg,null,r.createElement(a.nA6,{colSpan:5,align:"center"},r.createElement(a.o5u,{color:"textSecondary"},"No clients found"))),!i&&t.length>0&&t.map(function(e){return r.createElement(a.Hjg,{key:e.id,hover:!0},r.createElement(a.nA6,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o._Au,null),e.email)),r.createElement(a.nA6,null,function(e){return e.email_verified_at?r.createElement(a.vu3,{label:"Verified",color:"success",size:"small",icon:r.createElement(o.rAV,null)}):r.createElement(a.vu3,{label:"Pending",color:"warning",size:"small",icon:r.createElement(o.ZDw,null)})}(e)),r.createElement(a.nA6,null,new Date(e.created_at).toLocaleDateString()),r.createElement(a.nA6,null,r.createElement(a.vu3,{label:e.orders_count||0,variant:"outlined",size:"small"})),r.createElement(a.nA6,{align:"center"},r.createElement(a.m_M,{title:"Edit Client"},r.createElement(a.K0,{onClick:function(){return W(e)},size:"small"},r.createElement(o.ffu,null))),r.createElement(a.m_M,{title:"Send Email"},r.createElement(a.K0,{onClick:function(){return window.open("mailto:".concat(e.email))},size:"small"},r.createElement(o.Psq,null))),r.createElement(a.m_M,{title:"Delete Client"},r.createElement(a.K0,{onClick:function(){return H(e.id)},size:"small",color:"error"},r.createElement(o.epd,null)))))})))),r.createElement(a.xNp,{rowsPerPageOptions:[5,10,25],component:"div",count:S,rowsPerPage:x,page:g,onPageChange:function(e,t){b(t)},onRowsPerPageChange:function(e){w(parseInt(e.target.value,10)),b(0)}})),r.createElement(a.lGe,{open:k,onClose:G,maxWidth:"sm",fullWidth:!0},r.createElement(a.L33,null,I?"Edit Client":"Invite New Client"),r.createElement(a.Cff,null,r.createElement(a.A_L,{margin:"normal",fullWidth:!0,label:"Email Address",type:"email",value:T.email,onChange:function(e){return J(function(t){return u(u({},t),{},{email:e.target.value})})},disabled:!!I}),r.createElement(a.A_L,{margin:"normal",fullWidth:!0,label:"Contact Information",multiline:!0,rows:3,value:T.contact_info,onChange:function(e){return J(function(t){return u(u({},t),{},{contact_info:e.target.value})})},placeholder:"Additional contact details, notes, etc."})),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:G},"Cancel"),r.createElement(a.$nd,{onClick:B,variant:"contained"},I?"Update":"Invite"))))}},1200:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(6540),a=n(6905),o=n(2940),l=n(6504);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return f(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(f(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,f(d,"constructor",u),f(u,"constructor",i),i.displayName="GeneratorFunction",f(u,a,"GeneratorFunction"),f(d),f(d,a,"Generator"),f(d,r,function(){return this}),f(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:p}})()}function f(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,n,r){function o(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},f(e,t,n,r)}function d(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,c,"next",e)}function c(e){d(o,r,a,l,c,"throw",e)}l(void 0)})}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const E=function(){var e=y((0,r.useState)({pending:[],in_progress:[],completed:[],cancelled:[]}),2),t=e[0],n=e[1],c=y((0,r.useState)([]),2),i=c[0],s=c[1],f=y((0,r.useState)(!0),2),d=f[0],v=f[1],E=y((0,r.useState)(""),2),g=E[0],b=E[1],h=y((0,r.useState)(null),2),x=h[0],w=h[1],_=y((0,r.useState)(null),2),S=_[0],j=_[1],A=y((0,r.useState)(!1),2),O=A[0],C=A[1],P=y((0,r.useState)({title:"",description:"",client_id:"",estimated_cycles:"",priority:"medium",deadline:""}),2),k=P[0],z=P[1],D={pending:{title:"Pending",color:"#f57c00",icon:r.createElement(o.qgk,null)},in_progress:{title:"In Progress",color:"#1976d2",icon:r.createElement(o.Sse,null)},completed:{title:"Completed",color:"#388e3c",icon:r.createElement(o.rAV,null)},cancelled:{title:"Cancelled",color:"#d32f2f",icon:r.createElement(o.ZDw,null)}};(0,r.useEffect)(function(){I()},[]);var I=function(){var e=p(m().m(function e(){var t,r,a,o,c,i,u;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,v(!0),e.n=1,Promise.all([l.A.get("/admin/orders"),l.A.get("/admin/users?role=client")]);case 1:t=e.v,r=y(t,2),a=r[0],o=r[1],c=a.data.orders||[],i=c.reduce(function(e,t){var n=t.status||"pending";return e[n]||(e[n]=[]),e[n].push(t),e},{pending:[],in_progress:[],completed:[],cancelled:[]}),n(i),s(o.data.users||[]),b(""),e.n=3;break;case 2:e.p=2,u=e.v,b("Failed to fetch orders"),console.error("Failed to fetch orders:",u);case 3:return e.p=3,v(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),F=function(){w(null),j(null)},M=function(){var e=p(m().m(function e(t,n){var r;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,l.A.put("/admin/orders/".concat(t),{order:{status:n}});case 1:I(),e.n=3;break;case 2:e.p=2,r=e.v,b("Failed to update order status"),console.error("Failed to update order status:",r);case 3:F();case 4:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;j(e),z(e?{title:e.title,description:e.description||"",client_id:e.client_id,estimated_cycles:e.estimated_cycles||"",priority:e.priority||"medium",deadline:e.deadline?e.deadline.split("T")[0]:""}:{title:"",description:"",client_id:"",estimated_cycles:"",priority:"medium",deadline:""}),C(!0)},J=function(){C(!1),j(null),z({title:"",description:"",client_id:"",estimated_cycles:"",priority:"medium",deadline:""})},L=function(){var e=p(m().m(function e(){var t,n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=u(u({},k),{},{estimated_cycles:k.estimated_cycles?parseInt(k.estimated_cycles,10):null}),!S){e.n=2;break}return e.n=1,l.A.put("/admin/orders/".concat(S.id),{order:t});case 1:e.n=3;break;case 2:return e.n=3,l.A.post("/admin/orders",{order:t});case 3:J(),I(),e.n=5;break;case 4:e.p=4,n=e.v,b("Failed to save order"),console.error("Failed to save order:",n);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),W=function(e){return e.estimated_cycles&&e.total_cycles_completed?Math.min(e.total_cycles_completed/e.estimated_cycles*100,100):0},G=function(e){switch(e){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},B=function(e){var t,n=e.order;return r.createElement(a.ZpM,{sx:{mb:2,border:"1px solid",borderColor:"divider"}},r.createElement(a.Wux,{sx:{pb:1}},r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},r.createElement(a.o5u,{variant:"h6",sx:{fontSize:"1rem",fontWeight:500}},n.title),r.createElement(a.K0,{size:"small",onClick:function(e){return function(e,t){w(e.currentTarget),j(t)}(e,n)}},r.createElement(o.DQM,null))),n.description&&r.createElement(a.o5u,{variant:"body2",color:"textSecondary",sx:{mb:2}},n.description.length>100?"".concat(n.description.substring(0,100),"..."):n.description),r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1,mb:2},r.createElement(a.euF,{sx:{width:24,height:24,fontSize:"0.75rem"}},r.createElement(o._Au,null)),r.createElement(a.o5u,{variant:"body2"},(null===(t=n.client)||void 0===t?void 0:t.email)||"No client")),n.estimated_cycles&&r.createElement(a.azJ,{mb:2},r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",mb:.5},r.createElement(a.o5u,{variant:"body2",color:"textSecondary"},"Progress"),r.createElement(a.o5u,{variant:"body2",color:"textSecondary"},n.total_cycles_completed||0," / ",n.estimated_cycles," ","cycles")),r.createElement(a.hZv,{variant:"determinate",value:W(n),sx:{height:6,borderRadius:3}})),r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(a.vu3,{label:n.priority,size:"small",color:G(n.priority)}),n.deadline&&r.createElement(a.o5u,{variant:"caption",color:"textSecondary"},"Due: ",new Date(n.deadline).toLocaleDateString()))),r.createElement(a.waF,{sx:{pt:0,px:2,pb:2}},r.createElement(a.$nd,{size:"small",onClick:function(){return T(n)}},r.createElement(o.ffu,{sx:{mr:.5,fontSize:16}}),"Edit")))};return d?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null)):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4",gutterBottom:!0},"Orders Kanban Board"),r.createElement(a.$nd,{variant:"contained",startIcon:r.createElement(o.OMN,null),onClick:function(){return T()}},"Create Order")),g&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},g),r.createElement(a.xA9,{container:!0,spacing:3},Object.entries(D).map(function(e){var n,o,l,c=y(e,2),i=c[0],u=c[1];return r.createElement(a.xA9,{item:!0,xs:12,sm:6,lg:3,key:i},r.createElement(a.tu9,{sx:{p:2,minHeight:"600px"}},r.createElement(a.azJ,{display:"flex",alignItems:"center",mb:2},r.createElement(a.azJ,{sx:{color:u.color,mr:1}},u.icon),r.createElement(a.o5u,{variant:"h6"},u.title),r.createElement(a.vu3,{label:(null===(n=t[i])||void 0===n?void 0:n.length)||0,size:"small",sx:{ml:1}})),r.createElement(a.azJ,null,null===(o=t[i])||void 0===o?void 0:o.map(function(e){return r.createElement(B,{key:e.id,order:e})}),0===(null===(l=t[i])||void 0===l?void 0:l.length)&&r.createElement(a.o5u,{color:"textSecondary",align:"center",sx:{mt:4}},"No ",i.replace("_"," ")," orders"))))})),r.createElement(a.W1t,{anchorEl:x,open:Boolean(x),onClose:F},Object.entries(D).map(function(e){var t=y(e,2),n=t[0],o=t[1];return r.createElement(a.Drp,{key:n,onClick:function(){return M(null==S?void 0:S.id,n)},disabled:(null==S?void 0:S.status)===n},r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(a.azJ,{sx:{color:o.color}},o.icon),"Move to ",o.title))})),r.createElement(a.lGe,{open:O,onClose:J,maxWidth:"md",fullWidth:!0},r.createElement(a.L33,null,S?"Edit Order":"Create New Order"),r.createElement(a.Cff,null,r.createElement(a.xA9,{container:!0,spacing:2,sx:{mt:1}},r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Order Title",value:k.title,onChange:function(e){return z(function(t){return u(u({},t),{},{title:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:k.description,onChange:function(e){return z(function(t){return u(u({},t),{},{description:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.MJN,{fullWidth:!0},r.createElement(a.l1Y,null,"Client"),r.createElement(a.l6P,{value:k.client_id,label:"Client",onChange:function(e){return z(function(t){return u(u({},t),{},{client_id:e.target.value})})}},i.map(function(e){return r.createElement(a.Drp,{key:e.id,value:e.id},e.email)})))),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.A_L,{fullWidth:!0,label:"Estimated Cycles",type:"number",value:k.estimated_cycles,onChange:function(e){return z(function(t){return u(u({},t),{},{estimated_cycles:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.MJN,{fullWidth:!0},r.createElement(a.l1Y,null,"Priority"),r.createElement(a.l6P,{value:k.priority,label:"Priority",onChange:function(e){return z(function(t){return u(u({},t),{},{priority:e.target.value})})}},r.createElement(a.Drp,{value:"low"},"Low"),r.createElement(a.Drp,{value:"medium"},"Medium"),r.createElement(a.Drp,{value:"high"},"High")))),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.A_L,{fullWidth:!0,label:"Deadline",type:"date",InputLabelProps:{shrink:!0},value:k.deadline,onChange:function(e){return z(function(t){return u(u({},t),{},{deadline:e.target.value})})}})))),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:J},"Cancel"),r.createElement(a.$nd,{onClick:L,variant:"contained"},S?"Update":"Create"))))}},1697:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(6540),a=n(6905),o=n(2940),l=n(6504);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return f(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(f(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,f(d,"constructor",u),f(u,"constructor",i),i.displayName="GeneratorFunction",f(u,a,"GeneratorFunction"),f(d),f(d,a,"Generator"),f(d,r,function(){return this}),f(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:p}})()}function f(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,n,r){function o(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},f(e,t,n,r)}function d(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,c,"next",e)}function c(e){d(o,r,a,l,c,"throw",e)}l(void 0)})}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const E=function(){var e=y((0,r.useState)([]),2),t=e[0],n=e[1],c=y((0,r.useState)(!0),2),i=c[0],s=c[1],f=y((0,r.useState)(""),2),d=f[0],v=f[1],E=y((0,r.useState)(0),2),g=E[0],b=E[1],h=y((0,r.useState)(10),2),x=h[0],w=h[1],_=y((0,r.useState)(0),2),S=_[0],j=_[1],A=y((0,r.useState)(""),2),O=A[0],C=A[1],P=y((0,r.useState)(!1),2),k=P[0],z=P[1],D=y((0,r.useState)(null),2),I=D[0],F=D[1],M=y((0,r.useState)([]),2),T=M[0],J=M[1],L=y((0,r.useState)({title:"",description:"",thumbnail_url:"",is_personal:!0,cycle_pack_id:"",status:"draft"}),2),W=L[0],G=L[1];(0,r.useEffect)(function(){B(),H()},[g,x,O]);var B=function(){var e=p(m().m(function e(){var t,r,a;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,s(!0),t={page:g+1,per_page:x,search:O||void 0},e.n=1,l.A.get("/admin/projects",{params:t});case 1:r=e.v,n(r.data.projects||[]),j(r.data.total_count||0),v(""),e.n=3;break;case 2:e.p=2,a=e.v,v("Failed to fetch projects"),console.error("Failed to fetch projects:",a);case 3:return e.p=3,s(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=p(m().m(function e(){var t,n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,l.A.get("/admin/cycle-packs?status=pending");case 1:t=e.v,J(t.data.cycle_packs||[]),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to fetch cycle packs:",n);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;F(e),G(e?{title:e.title,description:e.description||"",thumbnail_url:e.thumbnail_url||"",is_personal:e.is_personal,cycle_pack_id:e.cycle_pack_id||"",status:e.status}:{title:"",description:"",thumbnail_url:"",is_personal:!0,cycle_pack_id:"",status:"draft"}),z(!0)},$=function(){z(!1),F(null),G({title:"",description:"",thumbnail_url:"",is_personal:!0,cycle_pack_id:"",status:"draft"})},Z=function(){var e=p(m().m(function e(){var t;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!I){e.n=2;break}return e.n=1,l.A.put("/admin/projects/".concat(I.id),{project:W});case 1:e.n=3;break;case 2:return e.n=3,l.A.post("/admin/projects",{project:W});case 3:$(),B(),e.n=5;break;case 4:e.p=4,t=e.v,v("Failed to save project"),console.error("Failed to save project:",t);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=p(m().m(function e(t){var n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!window.confirm("Are you sure you want to delete this project?")){e.n=4;break}return e.p=1,e.n=2,l.A.delete("/admin/projects/".concat(t));case 2:B(),e.n=4;break;case 3:e.p=3,n=e.v,v("Failed to delete project"),console.error("Failed to delete project:",n);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),R=function(e){switch(e){case"draft":default:return"default";case"in_progress":return"info";case"completed":return"success";case"on_hold":return"warning"}};return i&&0===t.length?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null)):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4",gutterBottom:!0},"Project Management"),r.createElement(a.$nd,{variant:"contained",startIcon:r.createElement(o.OMN,null),onClick:function(){return N()}},"Create Project")),d&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},d),r.createElement(a.tu9,{sx:{width:"100%",mb:2}},r.createElement(a.azJ,{p:2},r.createElement(a.A_L,{fullWidth:!0,variant:"outlined",placeholder:"Search projects by title...",value:O,onChange:function(e){C(e.target.value),b(0)},InputProps:{startAdornment:r.createElement(a.jC1,{position:"start"},r.createElement(o.vji,null))}})),r.createElement(a.K3K,null,r.createElement(a.XIK,null,r.createElement(a.ndF,null,r.createElement(a.Hjg,null,r.createElement(a.nA6,null,"Project"),r.createElement(a.nA6,null,"Type"),r.createElement(a.nA6,null,"Status"),r.createElement(a.nA6,null,"Cycle Pack"),r.createElement(a.nA6,null,"Created"),r.createElement(a.nA6,{align:"center"},"Actions"))),r.createElement(a.BFY,null,i?r.createElement(a.Hjg,null,r.createElement(a.nA6,{colSpan:6,align:"center"},r.createElement(a.PaH,{size:24}))):0===t.length?r.createElement(a.Hjg,null,r.createElement(a.nA6,{colSpan:6,align:"center"},r.createElement(a.o5u,{color:"textSecondary"},"No projects found"))):t.map(function(e){return r.createElement(a.Hjg,{key:e.id,hover:!0},r.createElement(a.nA6,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:2},e.thumbnail_url?r.createElement("img",{src:e.thumbnail_url,alt:e.title,style:{width:40,height:40,objectFit:"cover",borderRadius:4}}):r.createElement(a.azJ,{sx:{width:40,height:40,backgroundColor:"grey.300",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1}},r.createElement(o._V3,null)),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"subtitle2"},e.title),e.description&&r.createElement(a.o5u,{variant:"body2",color:"textSecondary"},e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description)))),r.createElement(a.nA6,null,e.is_personal?r.createElement(a.vu3,{label:"Personal",color:"info",size:"small",icon:r.createElement(o._Au,null)}):r.createElement(a.vu3,{label:"Client",color:"primary",size:"small",icon:r.createElement(o.QjU,null)})),r.createElement(a.nA6,null,r.createElement(a.vu3,{label:e.status,color:R(e.status),size:"small"})),r.createElement(a.nA6,null,e.cycle_pack?r.createElement(a.m_M,{title:"Pack #".concat(e.cycle_pack.pack_number)},r.createElement(a.vu3,{label:"Pack ".concat(e.cycle_pack.pack_number),variant:"outlined",size:"small"})):r.createElement(a.o5u,{variant:"body2",color:"textSecondary"},"No pack assigned")),r.createElement(a.nA6,null,new Date(e.created_at).toLocaleDateString()),r.createElement(a.nA6,{align:"center"},r.createElement(a.m_M,{title:"Edit Project"},r.createElement(a.K0,{onClick:function(){return N(e)},size:"small"},r.createElement(o.ffu,null))),e.thumbnail_url&&r.createElement(a.m_M,{title:"View Thumbnail"},r.createElement(a.K0,{onClick:function(){return window.open(e.thumbnail_url,"_blank")},size:"small"},r.createElement(o.bvC,null))),r.createElement(a.m_M,{title:"Delete Project"},r.createElement(a.K0,{onClick:function(){return K(e.id)},size:"small",color:"error"},r.createElement(o.epd,null)))))})))),r.createElement(a.xNp,{rowsPerPageOptions:[5,10,25],component:"div",count:S,rowsPerPage:x,page:g,onPageChange:function(e,t){b(t)},onRowsPerPageChange:function(e){w(parseInt(e.target.value,10)),b(0)}})),r.createElement(a.lGe,{open:k,onClose:$,maxWidth:"md",fullWidth:!0},r.createElement(a.L33,null,I?"Edit Project":"Create New Project"),r.createElement(a.Cff,null,r.createElement(a.xA9,{container:!0,spacing:2,sx:{mt:1}},r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Project Title",value:W.title,onChange:function(e){return G(function(t){return u(u({},t),{},{title:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:W.description,onChange:function(e){return G(function(t){return u(u({},t),{},{description:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Thumbnail URL",value:W.thumbnail_url,onChange:function(e){return G(function(t){return u(u({},t),{},{thumbnail_url:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.ip9,{control:r.createElement(a.dOG,{checked:W.is_personal,onChange:function(e){return G(function(t){return u(u({},t),{},{is_personal:e.target.checked})})}}),label:"Personal Project"})),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.MJN,{fullWidth:!0},r.createElement(a.l1Y,null,"Status"),r.createElement(a.l6P,{value:W.status,label:"Status",onChange:function(e){return G(function(t){return u(u({},t),{},{status:e.target.value})})}},r.createElement(a.Drp,{value:"draft"},"Draft"),r.createElement(a.Drp,{value:"in_progress"},"In Progress"),r.createElement(a.Drp,{value:"completed"},"Completed"),r.createElement(a.Drp,{value:"on_hold"},"On Hold")))),!W.is_personal&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.MJN,{fullWidth:!0},r.createElement(a.l1Y,null,"Assign to Cycle Pack"),r.createElement(a.l6P,{value:W.cycle_pack_id,label:"Assign to Cycle Pack",onChange:function(e){return G(function(t){return u(u({},t),{},{cycle_pack_id:e.target.value})})}},r.createElement(a.Drp,{value:""},"No assignment"),T.map(function(e){var t;return r.createElement(a.Drp,{key:e.id,value:e.id},"Pack #",e.pack_number," - ",null===(t=e.order)||void 0===t?void 0:t.title)})))),W.thumbnail_url&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.ZpM,{sx:{maxWidth:200}},r.createElement(a.VoS,{component:"img",height:"140",image:W.thumbnail_url,alt:"Project thumbnail",onError:function(e){e.target.style.display="none"}}))))),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:$},"Cancel"),r.createElement(a.$nd,{onClick:Z,variant:"contained"},I?"Update":"Create"))))}},2473:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(6540),a=n(6905),o=n(2940),l=n(6995),c=n(6504);function i(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,s=Object.create(i.prototype);return u(s,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),s}var l={};function c(){}function s(){}function m(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(u(t={},r,function(){return this}),t),d=m.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=m,u(d,"constructor",m),u(m,"constructor",s),s.displayName="GeneratorFunction",u(m,a,"GeneratorFunction"),u(d),u(d,a,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:p}})()}function u(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,n,r){function o(t,n){u(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},u(e,t,n,r)}function s(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,c,"next",e)}function c(e){s(o,r,a,l,c,"throw",e)}l(void 0)})}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const p=function(){var e=f((0,r.useState)(""),2),t=e[0],n=e[1],u=f((0,r.useState)(!0),2),s=u[0],d=u[1],p=f((0,r.useState)(!1),2),y=p[0],v=p[1],E=f((0,r.useState)(""),2),g=E[0],b=E[1],h=f((0,r.useState)(""),2),x=h[0],w=h[1],_=f((0,r.useState)(0),2),S=_[0],j=_[1],A=f((0,r.useState)(null),2),O=A[0],C=A[1];(0,r.useEffect)(function(){P()},[]);var P=function(){var e=m(i().m(function e(){var t,r;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,d(!0),e.n=1,c.A.get("/admin/resume");case 1:t=e.v,n(t.data.content||""),C(t.data.updated_at),b(""),e.n=3;break;case 2:e.p=2,r=e.v,b("Failed to fetch resume"),console.error("Failed to fetch resume:",r);case 3:return e.p=3,d(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=m(i().m(function e(){var n,r;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,v(!0),e.n=1,c.A.put("/admin/resume",{resume:{content:t}});case 1:n=e.v,C(n.data.updated_at),w("Resume saved successfully"),setTimeout(function(){return w("")},3e3),b(""),e.n=3;break;case 2:e.p=2,r=e.v,b("Failed to save resume"),console.error("Failed to save resume:",r);case 3:return e.p=3,v(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),z=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=document.getElementById("resume-editor"),o=a.selectionStart,l=a.selectionEnd,c=t.substring(o,l),i=t.substring(0,o)+e+c+r+t.substring(l);n(i),setTimeout(function(){a.focus(),a.setSelectionRange(o+e.length,o+e.length+c.length)},10)},D=[{icon:r.createElement(o.V4R,null),action:function(){return z("**","**")},tooltip:"Bold"},{icon:r.createElement(o.Cj8,null),action:function(){return z("*","*")},tooltip:"Italic"},{icon:r.createElement(o.JzM,null),action:function(){return z("\n- ","")},tooltip:"Bullet List"},{icon:r.createElement(o.MKM,null),action:function(){return z("\n1. ","")},tooltip:"Numbered List"},{icon:r.createElement(o.N_E,null),action:function(){return z("[","](url)")},tooltip:"Link"},{icon:r.createElement(o._V3,null),action:function(){return z("![alt text](",")")},tooltip:"Image"},{icon:r.createElement(o.CyN,null),action:function(){return z("`","`")},tooltip:"Code"}],I="# John Doe - Digital Artist\n\n## About Me\nWelcome to my creative world! I'm a passionate digital artist specializing in...\n\n## Skills\n- **Digital Painting** - Advanced proficiency in Photoshop and Procreate\n- **3D Modeling** - Experience with Blender and Maya\n- **Character Design** - Creating unique characters for games and stories\n- **Concept Art** - Environmental and prop design\n\n## Experience\n\n### Senior Digital Artist | Creative Studio (2020-Present)\n- Led creative projects for major gaming companies\n- Developed concept art and character designs\n- Mentored junior artists and interns\n\n### Freelance Artist | Self-Employed (2018-2020)\n- Worked with indie game developers and publishers\n- Created artwork for mobile games and applications\n- Built strong client relationships and repeat business\n\n## Education\n**Bachelor of Fine Arts in Digital Media** - Art University (2014-2018)\n\n## Contact\nFeel free to reach out for commissions or collaborations!\n\n---\n*Last updated: ".concat((new Date).toLocaleDateString(),"*");return s?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.hZv,{sx:{width:"100%"}})):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4"},"Artist Resume Editor"),r.createElement(a.azJ,{display:"flex",gap:2},r.createElement(a.$nd,{startIcon:r.createElement(o.C42,null),onClick:P,disabled:y},"Refresh"),r.createElement(a.$nd,{variant:"contained",startIcon:r.createElement(o.eMP,null),onClick:k,disabled:y},y?"Saving...":"Save"))),g&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},g),x&&r.createElement(a.FcD,{severity:"success",sx:{mb:2}},x),O&&r.createElement(a.o5u,{variant:"body2",color:"text.secondary",sx:{mb:2}},"Last saved: ",new Date(O).toLocaleString()),r.createElement(a.tu9,{sx:{mb:2}},r.createElement(a.tUM,{value:S,onChange:function(e,t){return j(t)},variant:"fullWidth"},r.createElement(a.ozo,{label:"Edit",icon:r.createElement(o.ffu,null)}),r.createElement(a.ozo,{label:"Preview",icon:r.createElement(o.lNE,null)}),r.createElement(a.ozo,{label:"Split View"}))),(0===S||2===S)&&r.createElement(a.tu9,{sx:{mb:1}},r.createElement(a.M7E,{variant:"dense"},r.createElement(a.o5u,{variant:"body2",sx:{mr:2}},"Format:"),D.map(function(e,t){return r.createElement(a.K0,{key:t,onClick:e.action,size:"small",title:e.tooltip},e.icon)}),r.createElement(a.$nd,{size:"small",onClick:function(){return n(t||I)},sx:{ml:"auto"},disabled:""!==t.trim()},"Load Template"))),r.createElement(a.xA9,{container:!0,spacing:2},0===S&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{id:"resume-editor",fullWidth:!0,multiline:!0,rows:20,value:t,onChange:function(e){return n(e.target.value)},placeholder:"Start writing your resume in Markdown...",variant:"outlined",sx:{"& .MuiInputBase-input":{fontFamily:"Monaco, Consolas, monospace",fontSize:"14px",lineHeight:1.5}}})),1===S&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.ZpM,null,r.createElement(a.Wux,{sx:{p:3}},t?r.createElement(l.Ay,{components:{h1:function(e){var t=e.children;return r.createElement(a.o5u,{variant:"h3",component:"h1",gutterBottom:!0},t)},h2:function(e){var t=e.children;return r.createElement(a.o5u,{variant:"h4",component:"h2",gutterBottom:!0,sx:{mt:3}},t)},h3:function(e){var t=e.children;return r.createElement(a.o5u,{variant:"h5",component:"h3",gutterBottom:!0,sx:{mt:2}},t)},p:function(e){var t=e.children;return r.createElement(a.o5u,{variant:"body1",paragraph:!0},t)},ul:function(e){var t=e.children;return r.createElement(a.azJ,{component:"ul",sx:{pl:3,mb:2}},t)},ol:function(e){var t=e.children;return r.createElement(a.azJ,{component:"ol",sx:{pl:3,mb:2}},t)},li:function(e){var t=e.children;return r.createElement(a.o5u,{component:"li",variant:"body1",sx:{mb:.5}},t)},strong:function(e){var t=e.children;return r.createElement(a.o5u,{component:"strong",sx:{fontWeight:"bold"}},t)},em:function(e){var t=e.children;return r.createElement(a.o5u,{component:"em",sx:{fontStyle:"italic"}},t)},code:function(e){var t=e.children;return r.createElement(a.o5u,{component:"code",sx:{backgroundColor:"grey.100",padding:"2px 4px",borderRadius:1,fontFamily:"Monaco, Consolas, monospace",fontSize:"0.875rem"}},t)},hr:function(){return r.createElement(a.azJ,{sx:{borderBottom:1,borderColor:"divider",my:3}})}}},t):r.createElement(a.o5u,{color:"text.secondary",align:"center",sx:{py:8}},"No content to preview. Start writing in the editor!")))),2===S&&r.createElement(r.Fragment,null,r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.o5u,{variant:"h6",gutterBottom:!0},"Editor"),r.createElement(a.A_L,{id:"resume-editor-split",fullWidth:!0,multiline:!0,rows:18,value:t,onChange:function(e){return n(e.target.value)},placeholder:"Start writing your resume in Markdown...",variant:"outlined",sx:{"& .MuiInputBase-input":{fontFamily:"Monaco, Consolas, monospace",fontSize:"14px",lineHeight:1.5}}})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.o5u,{variant:"h6",gutterBottom:!0},"Preview"),r.createElement(a.ZpM,{sx:{height:"500px",overflow:"auto"}},r.createElement(a.Wux,null,t?r.createElement(l.Ay,null,t):r.createElement(a.o5u,{color:"text.secondary",align:"center",sx:{py:4}},"Preview will appear here...")))))),r.createElement(a.tu9,{sx:{mt:2,p:2,backgroundColor:"grey.50"}},r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},r.createElement("strong",null,"Markdown Guide:"),"**bold**, *italic*, # Heading, - List item, [Link](url), ![Image](url), `code`")))}},6840:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(6540),a=n(6905),o=n(2940),l=n(9685),c=n(6504),i=n(6731);function u(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return s(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function m(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),d=m.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=m,s(d,"constructor",m),s(m,"constructor",i),i.displayName="GeneratorFunction",s(m,a,"GeneratorFunction"),s(d),s(d,a,"Generator"),s(d,r,function(){return this}),s(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:p}})()}function s(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}s=function(e,t,n,r){function o(t,n){s(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},s(e,t,n,r)}function m(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.title,n=e.value,o=e.icon,l=e.color,c=void 0===l?"primary":l;return r.createElement(a.ZpM,{sx:{height:"100%"}},r.createElement(a.Wux,{sx:{p:{xs:2,md:3}}},r.createElement(a.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:{xs:60,md:80}}},r.createElement(a.azJ,{sx:{minWidth:0,flexGrow:1,mr:1}},r.createElement(a.o5u,{color:"textSecondary",gutterBottom:!0,variant:{xs:"body2",md:"body1"},sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1.2}},t),r.createElement(a.o5u,{variant:{xs:"h5",md:"h4"},component:"div",sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"2.125rem"},fontWeight:700}},n)),r.createElement(a.azJ,{sx:{color:"".concat(c,".main"),"& .MuiSvgIcon-root":{fontSize:{xs:"2rem",md:"3rem"}}}},o))))};const y=function(){var e=(0,l.h)(),t=e.showError,n=e.showSuccess,s=f((0,r.useState)({clients:0,orders:0,images:0,projects:0}),2),d=s[0],y=s[1],v=f((0,r.useState)([]),2),E=v[0],g=v[1],b=f((0,r.useState)(!0),2),h=b[0],x=b[1],w=f((0,r.useState)({}),2),_=w[0],S=w[1];if((0,r.useEffect)(function(){var e=function(){var e,r=(e=u().m(function e(){var r,a,o,l,i,s,m,p;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Promise.all([c.A.get("/admin/users?role=client&page=1&per_page=1"),c.A.get("/admin/orders?page=1&per_page=1"),c.A.get("/admin/images?page=1&per_page=1"),c.A.get("/admin/projects?page=1&per_page=1")]);case 1:return r=e.v,a=f(r,4),o=a[0],l=a[1],i=a[2],s=a[3],y({clients:o.data.total_count||0,orders:l.data.total_count||0,images:i.data.total_count||0,projects:s.data.total_count||0}),e.n=2,c.A.get("/admin/orders?page=1&per_page=5&sort=created_at&order=desc");case 2:m=e.v,g(m.data.orders||[]),S({cycleProgress:[{month:"Jan",cycles:Math.floor(.8*d.orders),target:d.orders},{month:"Feb",cycles:Math.floor(.9*d.orders),target:d.orders},{month:"Mar",cycles:Math.floor(.7*d.orders),target:d.orders},{month:"Apr",cycles:Math.floor(1.1*d.orders),target:d.orders},{month:"May",cycles:Math.floor(1.2*d.orders),target:d.orders},{month:"Jun",cycles:d.orders,target:d.orders}],orderStatus:[{name:"Completed",value:Math.floor(.6*d.orders),color:"#4caf50"},{name:"In Progress",value:Math.floor(.3*d.orders),color:"#2196f3"},{name:"Pending",value:Math.floor(.08*d.orders),color:"#ff9800"},{name:"Cancelled",value:Math.floor(.02*d.orders),color:"#f44336"}]}),n("Dashboard data loaded successfully"),e.n=4;break;case 3:e.p=3,p=e.v,t("Failed to fetch dashboard data. Please try again."),console.error("Failed to fetch dashboard data:",p);case 4:return e.p=4,x(!1),e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){m(o,r,a,l,c,"next",e)}function c(e){m(o,r,a,l,c,"throw",e)}l(void 0)})});return function(){return r.apply(this,arguments)}}();e()},[]),h)return r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null));var j=function(e){switch(e){case"pending":return"warning";case"in_progress":return"info";case"completed":return"success";case"cancelled":return"error";default:return"default"}};return r.createElement(a.azJ,{sx:{px:{xs:0,sm:1}}},r.createElement(a.o5u,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2.125rem"},fontWeight:700,mb:{xs:2,md:3}}},"Admin Dashboard"),r.createElement(a.xA9,{container:!0,spacing:{xs:2,md:3},mb:4},r.createElement(a.xA9,{item:!0,xs:6,sm:6,md:3},r.createElement(p,{title:"Total Clients",value:d.clients,icon:r.createElement(o.g_3,{fontSize:"large"}),color:"primary"})),r.createElement(a.xA9,{item:!0,xs:6,sm:6,md:3},r.createElement(p,{title:"Active Orders",value:d.orders,icon:r.createElement(o.QjU,{fontSize:"large"}),color:"success"})),r.createElement(a.xA9,{item:!0,xs:6,sm:6,md:3},r.createElement(p,{title:"Gallery Images",value:d.images,icon:r.createElement(o._V3,{fontSize:"large"}),color:"warning"})),r.createElement(a.xA9,{item:!0,xs:6,sm:6,md:3},r.createElement(p,{title:"Projects",value:d.projects,icon:r.createElement(o.ntg,{fontSize:"large"}),color:"info"}))),r.createElement(a.xA9,{container:!0,spacing:3,mb:4},r.createElement(a.xA9,{item:!0,xs:12},r.createElement(i.A,{data:_,title:"Admin Analytics Overview",showAll:!1}))),r.createElement(a.xA9,{container:!0,spacing:{xs:2,md:3}},r.createElement(a.xA9,{item:!0,xs:12,lg:8},r.createElement(a.tu9,{sx:{p:{xs:2,md:3}}},r.createElement(a.o5u,{variant:"h6",gutterBottom:!0},"Recent Orders"),r.createElement(a.B8B,null,E.length>0?E.map(function(e){var t;return r.createElement(a.ckQ,{key:e.id,divider:!0},r.createElement(a.ZqK,{primary:e.title,secondary:"Client: ".concat(null===(t=e.client)||void 0===t?void 0:t.email,"  Created: ").concat(new Date(e.created_at).toLocaleDateString())}),r.createElement(a.vu3,{label:e.status,color:j(e.status),size:"small"}))}):r.createElement(a.o5u,{color:"textSecondary",align:"center",py:2},"No recent orders")))),r.createElement(a.xA9,{item:!0,xs:12,lg:4},r.createElement(a.tu9,{sx:{p:{xs:2,md:3}}},r.createElement(a.o5u,{variant:"h6",gutterBottom:!0},"Quick Actions"),r.createElement(a.B8B,null,r.createElement(a.ckQ,{button:!0},r.createElement(a.ZqK,{primary:"Add New Client"})),r.createElement(a.ckQ,{button:!0},r.createElement(a.ZqK,{primary:"Create Order"})),r.createElement(a.ckQ,{button:!0},r.createElement(a.ZqK,{primary:"Upload Images"})),r.createElement(a.ckQ,{button:!0},r.createElement(a.ZqK,{primary:"Manage Projects"})))))))}},6851:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(6540),a=n(6905),o=n(2940),l=n(8748),c=n(6504);function i(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,s=Object.create(i.prototype);return u(s,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),s}var l={};function c(){}function s(){}function m(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(u(t={},r,function(){return this}),t),d=m.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=m,u(d,"constructor",m),u(m,"constructor",s),s.displayName="GeneratorFunction",u(m,a,"GeneratorFunction"),u(d),u(d,a,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:p}})()}function u(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,n,r){function o(t,n){u(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},u(e,t,n,r)}function s(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const d=function(){var e,t,n=m((0,r.useState)([]),2),u=n[0],f=n[1],d=m((0,r.useState)(!0),2),p=d[0],y=d[1],v=m((0,r.useState)(""),2),E=v[0],g=v[1],b=m((0,r.useState)(0),2),h=b[0],x=b[1],w=m((0,r.useState)(25),2),_=w[0],S=w[1],j=m((0,r.useState)(0),2),A=j[0],O=j[1],C=m((0,r.useState)(""),2),P=C[0],k=C[1],z=m((0,r.useState)("all"),2),D=z[0],I=z[1],F=m((0,r.useState)("all"),2),M=F[0],T=F[1],J=m((0,r.useState)("all"),2),L=J[0],W=J[1],G=m((0,r.useState)(null),2),B=G[0],H=G[1],N=m((0,r.useState)(!1),2),$=N[0],Z=N[1],K=m((0,r.useState)(null),2),R=K[0],U=K[1];(0,r.useEffect)(function(){V()},[h,_,P,D,M,L]);var V=function(){var e,t=(e=i().m(function e(){var t,n;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,y(!0),t=new URLSearchParams({page:h+1,per_page:_,search:P,action_filter:D,user_filter:M,time_filter:L}),e.n=1,c.A.get("/admin/logs?".concat(t));case 1:n=e.v,f(n.data.logs||[]),O(n.data.total_count||0),g(""),e.n=3;break;case 2:e.p=2,e.v,g("Failed to fetch admin logs");case 3:return e.p=3,y(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,c,"next",e)}function c(e){s(o,r,a,l,c,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}(),Q=function(e){switch(e.toLowerCase()){case"create":case"created":return r.createElement(o.rAV,{color:"success"});case"update":case"updated":return r.createElement(o.wB_,{color:"info"});case"delete":case"deleted":return r.createElement(o.$DH,{color:"error"});case"login":return r.createElement(o._Au,{color:"primary"});case"upload":return r.createElement(o._V3,{color:"info"});default:return r.createElement(o.R2D,{color:"action"})}},Y=function(e){switch(e.toLowerCase()){case"create":case"created":return"success";case"update":case"updated":return"info";case"delete":case"deleted":return"error";case"login":case"logout":return"primary";case"upload":return"secondary";default:return"default"}},q=function(e){H(e),Z(!0)},X=function(){U(null),H(null)};return p&&0===u.length?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null)):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4"},"Admin Activity Logs"),r.createElement(a.azJ,{display:"flex",gap:2},r.createElement(a.$nd,{startIcon:r.createElement(o.C42,null),onClick:V,disabled:p},"Refresh"))),E&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},E),r.createElement(a.tu9,{sx:{p:2,mb:2}},r.createElement(a.xA9,{container:!0,spacing:2,alignItems:"center"},r.createElement(a.xA9,{item:!0,xs:12,sm:6,md:3},r.createElement(a.A_L,{size:"small",fullWidth:!0,placeholder:"Search logs...",value:P,onChange:function(e){k(e.target.value),x(0)},InputProps:{startAdornment:r.createElement(o.vji,{sx:{mr:1}})}})),r.createElement(a.xA9,{item:!0,xs:6,sm:3,md:2},r.createElement(a.A_L,{size:"small",fullWidth:!0,select:!0,label:"Action",value:D,onChange:function(e){I(e.target.value),x(0)}},r.createElement(a.Drp,{value:"all"},"All Actions"),r.createElement(a.Drp,{value:"create"},"Created"),r.createElement(a.Drp,{value:"update"},"Updated"),r.createElement(a.Drp,{value:"delete"},"Deleted"),r.createElement(a.Drp,{value:"login"},"Login"),r.createElement(a.Drp,{value:"upload"},"Upload"))),r.createElement(a.xA9,{item:!0,xs:6,sm:3,md:2},r.createElement(a.A_L,{size:"small",fullWidth:!0,select:!0,label:"Time Period",value:L,onChange:function(e){W(e.target.value),x(0)}},r.createElement(a.Drp,{value:"all"},"All Time"),r.createElement(a.Drp,{value:"today"},"Today"),r.createElement(a.Drp,{value:"week"},"This Week"),r.createElement(a.Drp,{value:"month"},"This Month"))),r.createElement(a.xA9,{item:!0,xs:12,sm:12,md:3},r.createElement(a.azJ,{display:"flex",gap:1},r.createElement(a.$nd,{size:"small",onClick:function(){k(""),I("all"),T("all"),W("all"),x(0)},disabled:""===P&&"all"===D&&"all"===M&&"all"===L},"Clear Filters"),r.createElement(a.$nd,{size:"small",startIcon:r.createElement(o.L0f,null),disabled:!0},"More Filters"))))),r.createElement(a.xA9,{container:!0,spacing:2,sx:{mb:3}},r.createElement(a.xA9,{item:!0,xs:12,sm:6,md:3},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o.R2D,{color:"primary"}),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"h6"},A),r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},"Total Logs")))))),r.createElement(a.xA9,{item:!0,xs:12,sm:6,md:3},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o._Au,{color:"secondary"}),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"h6"},u.filter(function(e){var t;return null===(t=e.action)||void 0===t?void 0:t.toLowerCase().includes("login")}).length),r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},"Login Events")))))),r.createElement(a.xA9,{item:!0,xs:12,sm:6,md:3},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o.rAV,{color:"success"}),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"h6"},u.filter(function(e){var t;return null===(t=e.action)||void 0===t?void 0:t.toLowerCase().includes("creat")}).length),r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},"Created Items")))))),r.createElement(a.xA9,{item:!0,xs:12,sm:6,md:3},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o.$DH,{color:"error"}),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"h6"},u.filter(function(e){var t;return null===(t=e.action)||void 0===t?void 0:t.toLowerCase().includes("delet")}).length),r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},"Deleted Items"))))))),r.createElement(a.K3K,{component:a.tu9},r.createElement(a.XIK,null,r.createElement(a.ndF,null,r.createElement(a.Hjg,null,r.createElement(a.nA6,null,"Timestamp"),r.createElement(a.nA6,null,"User"),r.createElement(a.nA6,null,"Action"),r.createElement(a.nA6,null,"Resource"),r.createElement(a.nA6,null,"Details"),r.createElement(a.nA6,null,"IP Address"),r.createElement(a.nA6,{align:"right"},"Actions"))),r.createElement(a.BFY,null,u.map(function(e){var t,n;return r.createElement(a.Hjg,{key:e.id,hover:!0,sx:{cursor:"pointer"},onClick:function(){return q(e)}},r.createElement(a.nA6,null,r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"body2"},new Date(e.created_at).toLocaleString()),r.createElement(a.o5u,{variant:"caption",color:"text.secondary"},(0,l.BO4)(new Date(e.created_at),new Date,{addSuffix:!0})))),r.createElement(a.nA6,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},r.createElement(o._Au,{fontSize:"small"}),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"body2"},(null===(t=e.user)||void 0===t?void 0:t.email)||"System"),r.createElement(a.o5u,{variant:"caption",color:"text.secondary"},null===(n=e.user)||void 0===n?void 0:n.role)))),r.createElement(a.nA6,null,r.createElement(a.vu3,{icon:Q(e.action),label:e.action,color:Y(e.action),size:"small"})),r.createElement(a.nA6,null,e.resource_type&&r.createElement(a.azJ,{display:"flex",alignItems:"center",gap:1},function(e){switch(null==e?void 0:e.toLowerCase()){case"user":return r.createElement(o._Au,{fontSize:"small"});case"image":return r.createElement(o._V3,{fontSize:"small"});case"project":return r.createElement(o.Inj,{fontSize:"small"});default:return r.createElement(o.R2D,{fontSize:"small"})}}(e.resource_type),r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"body2"},e.resource_type),e.resource_id&&r.createElement(a.o5u,{variant:"caption",color:"text.secondary"},"ID: ",e.resource_id)))),r.createElement(a.nA6,null,r.createElement(a.o5u,{variant:"body2",sx:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.details||"-")),r.createElement(a.nA6,null,r.createElement(a.o5u,{variant:"body2",sx:{fontFamily:"monospace"}},e.ip_address||"-")),r.createElement(a.nA6,{align:"right"},r.createElement(a.K0,{size:"small",onClick:function(t){return function(e,t){e.stopPropagation(),U(e.currentTarget),H(t)}(t,e)}},r.createElement(o.DQM,null))))}),0===u.length&&!p&&r.createElement(a.Hjg,null,r.createElement(a.nA6,{colSpan:7,align:"center",sx:{py:4}},r.createElement(a.o5u,{color:"text.secondary"},"No logs found matching your criteria"))))),p&&r.createElement(a.azJ,{display:"flex",justifyContent:"center",p:2},r.createElement(a.PaH,null))),r.createElement(a.xNp,{rowsPerPageOptions:[10,25,50,100],component:"div",count:A,rowsPerPage:_,page:h,onPageChange:function(e,t){x(t)},onRowsPerPageChange:function(e){S(parseInt(e.target.value,10)),x(0)}}),r.createElement(a.lGe,{open:$,onClose:function(){return Z(!1)},maxWidth:"md",fullWidth:!0},r.createElement(a.L33,null,"Log Entry Details"),r.createElement(a.Cff,null,B&&r.createElement(a.xA9,{container:!0,spacing:2},r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Timestamp"),r.createElement(a.o5u,{variant:"body2",gutterBottom:!0},new Date(B.created_at).toLocaleString())),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"User"),r.createElement(a.o5u,{variant:"body2",gutterBottom:!0},(null===(e=B.user)||void 0===e?void 0:e.email)||"System"," (",null===(t=B.user)||void 0===t?void 0:t.role,")")),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Action"),r.createElement(a.vu3,{icon:Q(B.action),label:B.action,color:Y(B.action),size:"small"})),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"IP Address"),r.createElement(a.o5u,{variant:"body2",sx:{fontFamily:"monospace"}},B.ip_address||"N/A")),B.resource_type&&r.createElement(r.Fragment,null,r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Resource Type"),r.createElement(a.o5u,{variant:"body2",gutterBottom:!0},B.resource_type)),r.createElement(a.xA9,{item:!0,xs:12,sm:6},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Resource ID"),r.createElement(a.o5u,{variant:"body2",gutterBottom:!0},B.resource_id||"N/A"))),B.details&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Details"),r.createElement(a.tu9,{sx:{p:2,backgroundColor:"grey.50"}},r.createElement(a.o5u,{variant:"body2",sx:{whiteSpace:"pre-wrap"}},B.details))),B.metadata&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Metadata"),r.createElement(a.tu9,{sx:{p:2,backgroundColor:"grey.50"}},r.createElement("pre",{style:{margin:0,fontSize:"0.875rem"}},JSON.stringify(B.metadata,null,2)))))),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:function(){return Z(!1)}},"Close"))),r.createElement(a.W1t,{anchorEl:R,open:Boolean(R),onClose:X},r.createElement(a.Drp,{onClick:function(){q(B),X()}},r.createElement(o.R2D,{sx:{mr:1}}),"View Details")))}},6950:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(6540),a=n(6905),o=n(2940),l=n(8748),c=n(6504);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return d(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(d(t={},r,function(){return this}),t),m=u.prototype=c.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=u,d(m,"constructor",u),d(u,"constructor",i),i.displayName="GeneratorFunction",d(u,a,"GeneratorFunction"),d(m),d(m,a,"Generator"),d(m,r,function(){return this}),d(m,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m:p}})()}function d(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}d=function(e,t,n,r){function o(t,n){d(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},d(e,t,n,r)}function p(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){p(o,r,a,l,c,"next",e)}function c(e){p(o,r,a,l,c,"throw",e)}l(void 0)})}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const g=function(){var e=v((0,r.useState)(new Date),2),t=e[0],n=e[1],i=v((0,r.useState)([]),2),u=i[0],m=i[1],d=v((0,r.useState)(!0),2),p=d[0],E=d[1],g=v((0,r.useState)(""),2),b=g[0],h=g[1],x=v((0,r.useState)(!1),2),w=x[0],_=x[1],S=v((0,r.useState)(null),2),j=S[0],A=S[1],O=v((0,r.useState)({cycles_completed:0,is_personal_project:!1,intensity_level:3,notes:""}),2),C=O[0],P=O[1];(0,r.useEffect)(function(){k()},[t]);var k=function(){var e=y(f().m(function e(){var n,r,a,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,E(!0),n=(0,l.GPZ)((0,l.wHP)(t),"yyyy-MM-dd"),r=(0,l.GPZ)((0,l.p93)(t),"yyyy-MM-dd"),e.n=1,c.A.get("/admin/workload-calendar",{params:{start_date:n,end_date:r}});case 1:a=e.v,m(a.data.calendar||[]),h(""),e.n=3;break;case 2:e.p=2,o=e.v,h("Failed to fetch workload data"),console.error("Failed to fetch workload data:",o);case 3:return e.p=3,E(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),z=function(){_(!1),A(null),P({cycles_completed:0,is_personal_project:!1,intensity_level:3,notes:""})},D=function(){var e=y(f().m(function e(){var t,n;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=(0,l.GPZ)(j,"yyyy-MM-dd"),e.n=1,c.A.post("/admin/workload-calendar",{workload_calendar:s({date:t},C)});case 1:z(),k(),e.n=3;break;case 2:e.p=2,n=e.v,h("Failed to save workload data"),console.error("Failed to save workload data:",n);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),I=function(e){return 0===e?"#f5f5f5":e<=2?"#fff3e0":e<=5?"#ffcc02":e<=8?"#ff9800":"#f57c00"},F=(0,l.kEY)({start:(0,l.wHP)(t),end:(0,l.p93)(t)}),M=u.reduce(function(e,t){return e+(t.cycles_completed||0)},0),T=u.filter(function(e){return e.cycles_completed>0}).length,J=u.filter(function(e){return e.is_personal_project}).length;return p?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.PaH,null)):r.createElement(a.azJ,null,r.createElement(a.o5u,{variant:"h4",gutterBottom:!0},"Workload Calendar"),b&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},b),r.createElement(a.xA9,{container:!0,spacing:2,sx:{mb:3}},r.createElement(a.xA9,{item:!0,xs:12,sm:4},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(a.azJ,null,r.createElement(a.o5u,{color:"textSecondary",gutterBottom:!0},"Total Cycles"),r.createElement(a.o5u,{variant:"h4"},M)),r.createElement(o.ntg,{color:"primary",fontSize:"large"}))))),r.createElement(a.xA9,{item:!0,xs:12,sm:4},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(a.azJ,null,r.createElement(a.o5u,{color:"textSecondary",gutterBottom:!0},"Working Days"),r.createElement(a.o5u,{variant:"h4"},T)),r.createElement(o.QjU,{color:"success",fontSize:"large"}))))),r.createElement(a.xA9,{item:!0,xs:12,sm:4},r.createElement(a.ZpM,null,r.createElement(a.Wux,null,r.createElement(a.azJ,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(a.azJ,null,r.createElement(a.o5u,{color:"textSecondary",gutterBottom:!0},"Personal Projects"),r.createElement(a.o5u,{variant:"h4"},J)),r.createElement(o._Au,{color:"info",fontSize:"large"})))))),r.createElement(a.tu9,{sx:{p:2,mb:2}},r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(a.K0,{onClick:function(){n(function(e){return(0,l.aPb)(e,1)})}},r.createElement(o.JGc,null)),r.createElement(a.o5u,{variant:"h5"},(0,l.GPZ)(t,"MMMM yyyy")),r.createElement(a.K0,{onClick:function(){n(function(e){return(0,l.PSV)(e,1)})}},r.createElement(o.c_$,null)))),r.createElement(a.tu9,{sx:{p:2}},r.createElement(a.xA9,{container:!0,spacing:1},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return r.createElement(a.xA9,{item:!0,xs:!0,key:e,sx:{textAlign:"center"}},r.createElement(a.o5u,{variant:"subtitle2",color:"textSecondary",sx:{p:1}},e))}),F.map(function(e){var n,o=(n=e,u.find(function(e){return(0,l.GPZ)(new Date(e.date),"yyyy-MM-dd")===(0,l.GPZ)(n,"yyyy-MM-dd")})),c=(0,l.GPZ)(e,"d"),i=(0,l.tF2)(e,t);return r.createElement(a.xA9,{item:!0,xs:!0,key:e.toISOString(),sx:{minHeight:"120px"}},r.createElement(a.ZpM,{sx:{height:"100%",cursor:"pointer",backgroundColor:o?I(o.cycles_completed):"#fafafa",opacity:i?1:.3,"&:hover":{backgroundColor:o?I(o.cycles_completed):"#e0e0e0",transform:"scale(1.02)"},transition:"all 0.2s"},onClick:function(){return function(e){var t=u.find(function(t){return(0,l.GPZ)(new Date(t.date),"yyyy-MM-dd")===(0,l.GPZ)(e,"yyyy-MM-dd")});A(e),P(t||{cycles_completed:0,is_personal_project:!1,intensity_level:3,notes:""}),_(!0)}(e)}},r.createElement(a.Wux,{sx:{p:1,minHeight:"100px"}},r.createElement(a.o5u,{variant:"body2",sx:{fontWeight:"bold",mb:1}},c),o&&r.createElement(a.azJ,null,o.cycles_completed>0&&r.createElement(a.m_M,{title:"".concat(o.cycles_completed," cycles completed")},r.createElement(a.vu3,{label:o.cycles_completed,size:"small",sx:{mb:.5,fontSize:"0.7rem"}})),o.is_personal_project&&r.createElement(a.m_M,{title:"Personal project day"},r.createElement(a.vu3,{label:"Personal",size:"small",color:"info",sx:{fontSize:"0.6rem"}})),o.notes&&r.createElement(a.o5u,{variant:"caption",sx:{display:"block",mt:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},o.notes)))))}))),r.createElement(a.lGe,{open:w,onClose:z,maxWidth:"sm",fullWidth:!0},r.createElement(a.L33,null,j&&"Workload for ".concat((0,l.GPZ)(j,"MMMM d, yyyy"))),r.createElement(a.Cff,null,r.createElement(a.azJ,{sx:{pt:2}},r.createElement(a.A_L,{fullWidth:!0,label:"Cycles Completed",type:"number",value:C.cycles_completed,onChange:function(e){return P(function(t){return s(s({},t),{},{cycles_completed:parseInt(e.target.value,10)||0})})},sx:{mb:2}}),r.createElement(a.MJN,{fullWidth:!0,sx:{mb:2}},r.createElement(a.l1Y,null,"Project Type"),r.createElement(a.l6P,{value:C.is_personal_project,label:"Project Type",onChange:function(e){return P(function(t){return s(s({},t),{},{is_personal_project:e.target.value})})}},r.createElement(a.Drp,{value:!1},"Client Work"),r.createElement(a.Drp,{value:!0},"Personal Project"))),r.createElement(a.MJN,{fullWidth:!0,sx:{mb:2}},r.createElement(a.l1Y,null,"Intensity Level"),r.createElement(a.l6P,{value:C.intensity_level,label:"Intensity Level",onChange:function(e){return P(function(t){return s(s({},t),{},{intensity_level:e.target.value})})}},r.createElement(a.Drp,{value:1},"1 - Very Light"),r.createElement(a.Drp,{value:2},"2 - Light"),r.createElement(a.Drp,{value:3},"3 - Medium"),r.createElement(a.Drp,{value:4},"4 - High"),r.createElement(a.Drp,{value:5},"5 - Very High"))),r.createElement(a.A_L,{fullWidth:!0,label:"Notes",multiline:!0,rows:3,value:C.notes,onChange:function(e){return P(function(t){return s(s({},t),{},{notes:e.target.value})})},placeholder:"Additional notes about this day's work..."}))),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:z},"Cancel"),r.createElement(a.$nd,{onClick:D,variant:"contained"},"Save"))))}},9941:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(6540),a=n(6905),o=n(2940),l=n(8400),c=n(9685),i=n(6591),u=n(6504);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(null,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return v(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,c=0,i=e,f.n=n,l}};function d(n,r){for(c=n,i=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,c=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),c=s,i=p;(t=c<2?e:i)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,i)):f.n=i:f.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?i:n.call(r,f))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(v(t={},r,function(){return this}),t),m=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,v(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=u,v(m,"constructor",u),v(u,"constructor",i),i.displayName="GeneratorFunction",v(u,a,"GeneratorFunction"),v(m),v(m,a,"Generator"),v(m,r,function(){return this}),v(m,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:f}})()}function v(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}v=function(e,t,n,r){function o(t,n){v(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},v(e,t,n,r)}function E(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){E(o,r,a,l,c,"next",e)}function c(e){E(o,r,a,l,c,"throw",e)}l(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const x=function(){var e=(0,c.h)(),t=e.showSuccess,n=e.showError,s=(e.showWarning,(0,i.Z)().confirmDelete),f=b((0,r.useState)([]),2),p=f[0],v=f[1],E=b((0,r.useState)(!0),2),h=E[0],x=E[1],w=b((0,r.useState)(!1),2),_=w[0],S=w[1],j=b((0,r.useState)(""),2),A=j[0],O=j[1],C=b((0,r.useState)(""),2),P=C[0],k=C[1],z=b((0,r.useState)(!1),2),D=z[0],I=z[1],F=b((0,r.useState)(null),2),M=F[0],T=F[1],J=b((0,r.useState)(null),2),L=J[0],W=J[1],G=b((0,r.useState)(null),2),B=G[0],H=G[1],N=b((0,r.useState)(""),2),$=N[0],Z=N[1],K=b((0,r.useState)(null),2),R=K[0],U=K[1],V=b((0,r.useState)("all"),2),Q=V[0],Y=V[1],q=b((0,r.useState)("grid"),2),X=(q[0],q[1],b((0,r.useState)({title:"",description:"",url:"",thumbnail_url:"",alt_text:"",is_featured:!1,is_visible:!0,project_id:null,tags:""}),2)),ee=X[0],te=X[1];(0,r.useEffect)(function(){ne()},[]);var ne=function(){var e=g(y().m(function e(){var t,r;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,x(!0),e.n=1,u.A.get("/admin/images");case 1:t=e.v,v(t.data.images||[]),e.n=3;break;case 2:e.p=2,r=e.v,n("Failed to fetch images. Please try again."),console.error("Failed to fetch images:",r);case 3:return e.p=3,x(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=g(y().m(function e(){var r,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,S(!0),r=d(d({},ee),{},{tags:ee.tags.split(",").map(function(e){return e.trim()}).filter(Boolean)}),!M){e.n=2;break}return e.n=1,u.A.patch("/admin/images/".concat(M.id),{image:r});case 1:e.v,e.n=4;break;case 2:return e.n=3,u.A.post("/admin/images",{image:r});case 3:e.v;case 4:t(M?"Image updated successfully":"Image created successfully"),I(!1),T(null),ue(),ne(),e.n=6;break;case 5:e.p=5,a=e.v,n("Failed to save image. Please try again."),console.error("Failed to save image:",a);case 6:return e.p=6,S(!1),e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=g(y().m(function e(r){var a,o;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=p.find(function(e){return e.id===r}),e.n=1,s((null==a?void 0:a.title)||"Image #".concat(r),{details:"This will permanently remove the image from your gallery and cannot be undone."});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,u.A.delete("/admin/images/".concat(r));case 3:t("Image deleted successfully"),ne(),e.n=5;break;case 4:e.p=4,o=e.v,n("Failed to delete image. Please try again."),console.error("Failed to delete image:",o);case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=g(y().m(function e(t,n){var r;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u.A.patch("/admin/images/".concat(t),{image:{is_featured:!n}});case 1:ne(),e.n=3;break;case 2:e.p=2,r=e.v,O("Failed to update featured status"),console.error("Failed to update featured:",r);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=g(y().m(function e(t,n){var r;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u.A.patch("/admin/images/".concat(t),{image:{is_visible:!n}});case 1:ne(),e.n=3;break;case 2:e.p=2,r=e.v,O("Failed to update visibility"),console.error("Failed to update visibility:",r);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=g(y().m(function e(t){var n,r,a,o,l,c;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.destination){e.n=1;break}return e.a(2);case 1:return n=Array.from(p),r=n.splice(t.source.index,1),a=b(r,1),o=a[0],n.splice(t.destination.index,0,o),v(n),e.p=2,l=n.map(function(e,t){return{id:e.id,position:t+1}}),e.n=3,u.A.patch("/admin/images/bulk-update",{updates:l});case 3:e.n=5;break;case 4:e.p=4,c=e.v,O("Failed to update image order"),console.error("Failed to reorder images:",c),ne();case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=g(y().m(function e(t){var n,r,a,o;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.target.files[0]){e.n=1;break}return e.a(2);case 1:return(r=new FormData).append("image[file]",n),e.p=2,S(!0),e.n=3,u.A.post("/admin/images/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 3:a=e.v,te(function(e){return d(d({},e),{},{url:a.data.url,thumbnail_url:a.data.thumbnail_url||a.data.url})}),k("Image uploaded successfully"),setTimeout(function(){return k("")},3e3),e.n=5;break;case 4:e.p=4,o=e.v,O("Failed to upload image"),console.error("Failed to upload:",o);case 5:return e.p=5,S(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),ue=function(){te({title:"",description:"",url:"",thumbnail_url:"",alt_text:"",is_featured:!1,is_visible:!0,project_id:null,tags:""})},se=function(){W(null),H(null)},me=function(){var e=p;switch($&&(e=e.filter(function(e){var t,n,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes($.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes($.toLowerCase()))||(null===(r=e.tags)||void 0===r?void 0:r.some(function(e){return e.toLowerCase().includes($.toLowerCase())}))})),Q){case"featured":return e.filter(function(e){return e.is_featured});case"hidden":return e.filter(function(e){return!e.is_visible});case"visible":return e.filter(function(e){return e.is_visible});default:return e}}();return h?r.createElement(a.azJ,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},r.createElement(a.hZv,{sx:{width:"100%"}})):r.createElement(a.azJ,null,r.createElement(a.azJ,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},r.createElement(a.o5u,{variant:"h4"},"Image Management"),r.createElement(a.azJ,{display:"flex",gap:2,alignItems:"center"},r.createElement(a.A_L,{size:"small",placeholder:"Search images...",value:$,onChange:function(e){return Z(e.target.value)},InputProps:{startAdornment:r.createElement(o.vji,{sx:{mr:1}})}}),r.createElement(a.$nd,{startIcon:r.createElement(o.L0f,null),onClick:function(e){return U(e.currentTarget)}},"Filter: ",Q),r.createElement(a.$nd,{variant:"contained",startIcon:r.createElement(o.OMN,null),onClick:function(){T(null),ue(),I(!0)}},"Add Image"))),A&&r.createElement(a.FcD,{severity:"error",sx:{mb:2}},A),P&&r.createElement(a.FcD,{severity:"success",sx:{mb:2}},P),r.createElement(l.JY,{onDragEnd:ce},r.createElement(l.gL,{droppableId:"images",direction:"horizontal"},function(e){return r.createElement(a.e1K,m({ref:e.innerRef},e.droppableProps,{variant:"masonry",cols:4,gap:16,sx:{mb:2}}),me.map(function(e,t){return r.createElement(l.sx,{key:e.id,draggableId:e.id.toString(),index:t},function(t,n){var l;return r.createElement(a.fNH,m({ref:t.innerRef},t.draggableProps,{sx:{transform:n.isDragging?"rotate(5deg)":"none",boxShadow:n.isDragging?4:1,borderRadius:1,overflow:"hidden"}}),r.createElement("img",{src:e.thumbnail_url||e.url,alt:e.alt_text||e.title,loading:"lazy",style:{width:"100%",height:"auto",maxHeight:"300px",objectFit:"cover"}}),r.createElement(a.e$Y,{title:e.title,subtitle:r.createElement(a.azJ,{display:"flex",gap:1,alignItems:"center",mt:.5},e.is_featured&&r.createElement(a.vu3,{label:"Featured",size:"small",color:"warning"}),!e.is_visible&&r.createElement(a.vu3,{label:"Hidden",size:"small",color:"error"}),null===(l=e.tags)||void 0===l?void 0:l.map(function(e){return r.createElement(a.vu3,{key:e,label:e,size:"small",variant:"outlined"})})),actionIcon:r.createElement(a.azJ,null,r.createElement(a.K0,m({},t.dragHandleProps,{sx:{color:"rgba(255, 255, 255, 0.54)"}}),r.createElement(o.YzB,null)),r.createElement(a.K0,{sx:{color:"rgba(255, 255, 255, 0.54)"},onClick:function(t){return function(e,t){W(e.currentTarget),H(t)}(t,e)}},r.createElement(o.DQM,null)))}))})}),e.placeholder)})),0===me.length&&r.createElement(a.tu9,{sx:{p:4,textAlign:"center"}},r.createElement(a.o5u,{variant:"h6",color:"text.secondary",gutterBottom:!0},"No images found"),r.createElement(a.o5u,{variant:"body2",color:"text.secondary"},$||"all"!==Q?"Try adjusting your search or filter criteria":"Add your first image to get started")),r.createElement(a.W1t,{anchorEl:L,open:Boolean(L),onClose:se},r.createElement(a.Drp,{onClick:function(){var e;T(e=B),te({title:e.title||"",description:e.description||"",url:e.url||"",thumbnail_url:e.thumbnail_url||"",alt_text:e.alt_text||"",is_featured:e.is_featured||!1,is_visible:!1!==e.is_visible,project_id:e.project_id||null,tags:e.tags?e.tags.join(", "):""}),I(!0),se()}},r.createElement(o.ffu,{sx:{mr:1}}),"Edit"),r.createElement(a.Drp,{onClick:function(){oe(B.id,B.is_featured),se()}},null!=B&&B.is_featured?r.createElement(r.Fragment,null,r.createElement(o.H4M,{sx:{mr:1}}),"Remove from Featured"):r.createElement(r.Fragment,null,r.createElement(o.FEq,{sx:{mr:1}}),"Mark as Featured")),r.createElement(a.Drp,{onClick:function(){le(B.id,B.is_visible),se()}},null!=B&&B.is_visible?r.createElement(r.Fragment,null,r.createElement(o.QM4,{sx:{mr:1}}),"Hide"):r.createElement(r.Fragment,null,r.createElement(o.bvC,{sx:{mr:1}}),"Show")),r.createElement(a.Drp,{onClick:function(){ae(B.id),se()},sx:{color:"error.main"}},r.createElement(o.epd,{sx:{mr:1}}),"Delete")),r.createElement(a.W1t,{anchorEl:R,open:Boolean(R),onClose:function(){return U(null)}},r.createElement(a.Drp,{onClick:function(){Y("all"),U(null)}},"All Images"),r.createElement(a.Drp,{onClick:function(){Y("featured"),U(null)}},"Featured Only"),r.createElement(a.Drp,{onClick:function(){Y("visible"),U(null)}},"Visible Only"),r.createElement(a.Drp,{onClick:function(){Y("hidden"),U(null)}},"Hidden Only")),r.createElement(a.lGe,{open:D,onClose:function(){return I(!1)},maxWidth:"md",fullWidth:!0},r.createElement(a.L33,null,M?"Edit Image":"Add New Image"),r.createElement(a.Cff,null,r.createElement(a.xA9,{container:!0,spacing:2,sx:{mt:1}},r.createElement(a.xA9,{item:!0,xs:12},r.createElement("input",{accept:"image/*",style:{display:"none"},id:"image-upload",type:"file",onChange:ie}),r.createElement("label",{htmlFor:"image-upload"},r.createElement(a.$nd,{variant:"outlined",component:"span",startIcon:r.createElement(o.bK_,null),disabled:_,fullWidth:!0},_?"Uploading...":"Upload Image")),_&&r.createElement(a.hZv,{sx:{mt:1}})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.A_L,{fullWidth:!0,label:"Title",value:ee.title,onChange:function(e){return te(function(t){return d(d({},t),{},{title:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.A_L,{fullWidth:!0,label:"Alt Text",value:ee.alt_text,onChange:function(e){return te(function(t){return d(d({},t),{},{alt_text:e.target.value})})},helperText:"For accessibility and SEO"})),r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:ee.description,onChange:function(e){return te(function(t){return d(d({},t),{},{description:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.A_L,{fullWidth:!0,label:"Image URL",value:ee.url,onChange:function(e){return te(function(t){return d(d({},t),{},{url:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.A_L,{fullWidth:!0,label:"Thumbnail URL",value:ee.thumbnail_url,onChange:function(e){return te(function(t){return d(d({},t),{},{thumbnail_url:e.target.value})})}})),r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.A_L,{fullWidth:!0,label:"Tags (comma separated)",value:ee.tags,onChange:function(e){return te(function(t){return d(d({},t),{},{tags:e.target.value})})},helperText:"e.g. portrait, digital art, commission"})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.ip9,{control:r.createElement(a.dOG,{checked:ee.is_featured,onChange:function(e){return te(function(t){return d(d({},t),{},{is_featured:e.target.checked})})}}),label:"Featured Image"})),r.createElement(a.xA9,{item:!0,xs:12,md:6},r.createElement(a.ip9,{control:r.createElement(a.dOG,{checked:ee.is_visible,onChange:function(e){return te(function(t){return d(d({},t),{},{is_visible:e.target.checked})})}}),label:"Visible to Public"})),(ee.url||ee.thumbnail_url)&&r.createElement(a.xA9,{item:!0,xs:12},r.createElement(a.o5u,{variant:"subtitle2",gutterBottom:!0},"Preview:"),r.createElement("img",{src:ee.thumbnail_url||ee.url,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain",border:"1px solid #ddd",borderRadius:4}})))),r.createElement(a.iin,null,r.createElement(a.$nd,{onClick:function(){return I(!1)}},"Cancel"),r.createElement(a.$nd,{onClick:re,variant:"contained",disabled:_||!ee.title||!ee.url},M?"Update":"Create"))))}}}]);
//# sourceMappingURL=admin.0ac09ac885ae1b73752f.chunk.js.map